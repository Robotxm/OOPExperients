# 题目三：定义函数 `itoa()`

## 题目原文

Write a function `itoa(int i, char b[])` that creates a string representation of `i` in `b` and returns `b`.

## 题目翻译

编写函数 `itoa(int i, char b[])` 以在 `b` 中创建 `i` 的字符串形式，并返回 `b`。

## 题目解析

本题难度比上一题稍低，但还是有几个需要注意的地方。这里我直接按照支持任意进制的讲解。

题目要求，如果进制为八进制或十六进制，那么负数转换出的字符串应该按照补码形式输出（实际上可以直接简单理解成转换为补码字符串，因为正数的原码、反码和补码是一样的）。直接构造补码不是一件容易的事，但是如果考虑过 `int` 和 `unsigned int` 的范围和互转之后我们发现，可以利用溢出来实现这个功能。不过需要根据给定的数字和进制具体判断。当输入的数字为正数时，将给定的 `int` 强转为 `unsigned int`，由于是小范围数据类型转大范围数据类型，这里不会造成数据损失；而当输入的数字为负数时，如果要求的进制是十进制，那么取相反数（也就是变为正数）后强转为 `unsigned int`，不是十进制的话就直接强转（此时存储的就是数字对应的补码）。

然后方便起见，我们利用栈来存储转换之后的每个字符。后续的逻辑比较简单，直接看代码就可以，不再赘述。最后记得加上 `0x` 或者 `0` 的前缀，以及 `'\0'` 结束符。 